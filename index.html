<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
      integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Abel|Chathura|Dosis|Hind|Geo|Jura|Poiret+One|ZCOOL+QingKe+HuangYou"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js"></script>
    <link rel="stylesheet" media="screen" href="css/main.css" />
    <title>Welcome To My Portfolio</title>
  </head>
  <div class="canvasbg"><canvas id="myCanvas"> </canvas></div>
  <div id="particles-js"></div>
  <script src="js/three.js"></script>
  <script src="js/GLTFLoader.js"></script>
  <script src="js/OrbitControls.js"></script>
  <script>
    var renderer,
      scene,
      camera,
      myCanvas = document.getElementById("myCanvas");

    //RENDERER
    renderer = new THREE.WebGLRenderer({
      canvas: myCanvas,
      antialias: true,
      alpha: true
    });
    renderer.setClearColor(0x000000, 0);
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.shadowMap.enabled = true;

    //CAMERA
    camera = new THREE.PerspectiveCamera(
      45,
      window.innerWidth / window.innerHeight,
      0.1,
      85
    );

    //SCENE
    scene = new THREE.Scene();

    //LIGHTS
    /*   var light = new THREE.AmbientLight(0x000000, 5);

    scene.add(light);

    var light2 = new THREE.PointLight(0x00d9ff, 3.6);
    light.castShadow = true;
    light2.castShadow = true;

    scene.add(light2); */

    //LIGHTS WITH SHADOWS

    scene.add(new THREE.AmbientLight(0x505050));
    var spotLight = new THREE.SpotLight(0x00d9ff, 3.6);
    spotLight.angle = Math.PI / 5;
    spotLight.penumbra = 0.2;
    spotLight.position.set(4.4, 2, 2.5);
    spotLight.castShadow = true;
    spotLight.shadow.camera.near = 3;
    spotLight.shadow.camera.far = 1000;
    spotLight.shadow.mapSize.width = 1024;
    spotLight.shadow.mapSize.height = 1024;
    scene.add(spotLight);
    var dirLight = new THREE.DirectionalLight(0x00d9ff, 0.1);
    dirLight.position.set(0, 3, 0);
    dirLight.castShadow = true;
    dirLight.shadow.camera.near = 1;
    dirLight.shadow.camera.far = 1000;
    dirLight.shadow.camera.right = 1;
    dirLight.shadow.camera.left = -1;
    dirLight.shadow.camera.top = 1;
    dirLight.shadow.camera.bottom = -1;
    dirLight.shadow.mapSize.width = 1024;
    dirLight.shadow.mapSize.height = 1024;
    scene.add(dirLight);

    var loader = new THREE.GLTFLoader();

    loader.load("img/icosphere.gltf", handle_load);

    var mesh;

    var meshXPos = window.innerWidth / 960;

    function handle_load(gltf) {
      mesh = gltf.scene;

      console.log(mesh.children[0]);
      mesh.children[0].material = new THREE.MeshLambertMaterial();

      scene.add(mesh);

      mesh.position.z = -7;
      //window.alert(meshXPos);
      mesh.position.x = 0;
      mesh.position.y = -0;
      mesh.rotation.y = 0;
      mesh.castShadow = true;
      mesh.receiveShadow = true;
    }

    //RENDER LOOP
    render();

    var delta = 0;
    var prevTime = Date.now();
    function render() {
      delta += 0.1;

      if (mesh) {
        mesh.rotation.y += 0.0005;
        mesh.rotation.x += 0.0003;

        //animation mesh
        // mesh.morphTargetInfluences[ 0 ] = Math.sin(delta) * 20.0;
      }

      renderer.render(scene, camera);

      requestAnimationFrame(render);
    }
  </script>

  <!-- START OF HTML OBJECTS -->

  <body id="bg-img">
    <div class="simple-linear-topbottom"></div>
    <!--<div class="simple-linear-bottomtop"></div>
    -->
    <div class="logo"></div>

    <header>
      <div class="menu-btn">
        <div class="btn-line"></div>
        <div class="btn-line"></div>
        <div class="btn-line"></div>
      </div>

      <nav class="menu">
        <div class="menu-branding">
          <div class="portrait"></div>
        </div>

        <ul class="menu-nav">
          <li class="nav-item current">
            <a href="" class="nav-link">
              Home
            </a>
          </li>

          <li class="nav-item">
            <a href="about.html" class="nav-link">
              About Me
            </a>
          </li>

          <li class="nav-item">
            <a href="https://frogoil.github.io/blog/" class="nav-link">
              Blog
            </a>
          </li>

          <li class="nav-item">
            <a href="work.html" class="nav-link">
              Game Dev
            </a>
          </li>

          <li class="nav-item">
            <a href="contact.html" class="nav-link">
              How To Reach Me
            </a>
          </li>
        </ul>
      </nav>
    </header>

    <main id="home">
      <h1 class="lg-heading">
        Daniel <span class="text-secondary">Watts</span>
      </h1>
      <h2 class="sm-heading">
        Business Analyst, IT Consultant, Software & Game Development
      </h2>

      <h2 class="sm-heading desktopDetected">
        <span class=" text-secondary">NOTE:</span> This website is currently in
        development. Some links may not work. More content on the way...
      </h2>
      <h2 class="sm-heading mobileDetected">
        Please visit this website on in a desktop browser. Mobile is currently
        unsupported.
      </h2>
      <div class="icons">
        <a href="https://twitter.com/DMDWatts">
          <i class="fab fa-twitter fa-2x"></i>
        </a>
        <a href="#!">
          <i class="fab fa-facebook fa-2x"></i>
        </a>
        <a href="https://www.linkedin.com/in/augitltd/">
          <i class="fab fa-linkedin fa-2x"></i>
        </a>
        <a href="https://github.com/FrogOil">
          <i class="fab fa-github fa-2x"></i>
        </a>
      </div>
    </main>

    <!----><script src="js/main.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/app.js"></script>

    <script>
      // ON RESIZE - REFRESH PAGE
      var resizeTimeout;
      window.addEventListener("resize", function(event) {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(function() {
          window.location.reload();
        }, 250);
      });
    </script>

    <script></script>
  </body>
</html>
