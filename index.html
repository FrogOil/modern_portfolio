<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
      integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Abel|Chathura|Dosis|Hind|Geo|Jura|Poiret+One|ZCOOL+QingKe+HuangYou"
      rel="stylesheet"
    />
    <link rel="stylesheet" media="screen" href="css/main.css" />
    <title>Welcome To My Portfolio</title>
  </head>
  <div class="canvasbg"><canvas id="myCanvas"> </canvas></div>
  <script src="js/three.js"></script>
  <script src="js/GLTFLoader.js"></script>
  <script src="js/OrbitControls.js"></script>
  <script>
    var renderer,
      scene,
      camera,
      myCanvas = document.getElementById("myCanvas");

    //RENDERER
    renderer = new THREE.WebGLRenderer({
      canvas: myCanvas,
      antialias: true,
      alpha: true
    });
    renderer.setClearColor(0x000000, 0.1);
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.setSize(window.innerWidth, window.innerHeight);

    //CAMERA
    camera = new THREE.PerspectiveCamera(
      35,
      window.innerWidth / window.innerHeight,
      0.1,
      8.5
    );

    //SCENE
    scene = new THREE.Scene();

    //LIGHTS
    var light = new THREE.AmbientLight(0x000000, 55);
    scene.add(light);

    var light2 = new THREE.PointLight(0x00d9ff, 1);

    scene.add(light2);

    var loader = new THREE.GLTFLoader();

    loader.load("img/icosphere.gltf", handle_load);

    var mesh;

    function handle_load(gltf) {
      console.log(gltf);
      mesh = gltf.scene;
      console.log(mesh.children[0]);
      mesh.children[0].material = new THREE.MeshLambertMaterial();

      scene.add(mesh);

      mesh.position.z = -7;
      mesh.position.x = -4;
      mesh.position.y = 0;
      mesh.rotation.x = 1;
    }

    //RENDER LOOP
    render();

    var delta = 0;
    var prevTime = Date.now();
    function render() {
      delta += 0.1;

      if (mesh) {
        mesh.rotation.y += 0.0005;

        //animation mesh
        // mesh.morphTargetInfluences[ 0 ] = Math.sin(delta) * 20.0;
      }

      renderer.render(scene, camera);

      requestAnimationFrame(render);
    }
  </script>
  <body id="bg-img">
    <div id="particles-js"></div>

    <div class="simple-linear-topbottom"></div>
    <!--<div class="simple-linear-bottomtop"></div>
    -->
    <div class="logo"></div>

    <header>
      <div class="menu-btn">
        <div class="btn-line"></div>
        <div class="btn-line"></div>
        <div class="btn-line"></div>
      </div>

      <nav class="menu">
        <div class="menu-branding">
          <div class="portrait"></div>
        </div>

        <ul class="menu-nav">
          <li class="nav-item current">
            <a href="" class="nav-link">
              Home
            </a>
          </li>

          <li class="nav-item">
            <a href="index.html" class="nav-link">
              About Me
            </a>
          </li>

          <li class="nav-item">
            <a href="work.html" class="nav-link">
              My Work
            </a>
          </li>

          <li class="nav-item">
            <a href="contact.html" class="nav-link">
              How To Reach Me
            </a>
          </li>
        </ul>
      </nav>
    </header>

    <main id="home">
      <h1 class="lg-heading">
        Daniel <span class="text-secondary">Watts</span>
      </h1>
      <h2 class="sm-heading">
        Business Analyst, IT Consultant, Software & Game Development
      </h2>
      <h2 class="sm-heading">
        <span class=" text-secondary">NOTE:</span> This website is currently in
        development. Some links may not work. More content on the way...
      </h2>
      <h2 class="sm-heading">
        This site is best viewed in a desktop browser. Mobile support will be
        coming soon.
      </h2>
      <div class="icons">
        <a href="#!">
          <i class="fab fa-twitter fa-2x"></i>
        </a>
        <a href="#!">
          <i class="fab fa-facebook fa-2x"></i>
        </a>
        <a href="#!">
          <i class="fab fa-linkedin fa-2x"></i>
        </a>
        <a href="#!">
          <i class="fab fa-github fa-2x"></i>
        </a>
      </div>
    </main>

    <!----><script src="js/main.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/app.js"></script>

    <script>
      var resizeTimeout;
      window.addEventListener("resize", function(event) {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(function() {
          window.location.reload();
        }, 500);
      });
    </script>
  </body>
</html>
